# Host a React website using Github

![img.jpeg](src/imgs/site_react_github.jpeg)

Simple step by step to make your static React sites available for free on Github.

See the final result [Click-me](https://j0se-luiz.github.io/site-react-on-git/)
<br/><br/>

## Step 1: Create a repository on github

To get started, Create a repository on github. <br/>
Remembering that the name of your site will be the same as the one you put in your repository. example mine is **site-react-on-git**

![img.jpeg](src/imgs/passo-1.jpg)
<br/><br/>

## Step 2: Create a project using create-react-app:

use the command: npx create-react-app **site-react-on-git**
![img.png](src/imgs/passo-2.png)
<br/><br/>

## Step 3: Create the folder with the compiled build files

Inside the created folder execute the command npm run build. This command will create a folder at the root called “build”, and there you will find all the compiled files of your project, which we will use for our website to work.

```shell
cd site-react-on-git
npm run build
```

![img.png](src/imgs/passo-3.png)
<br/><br/>

## Step 4: Launch git in the project

Perhaps create-react-app started the project's git. If this happens, **delete the folder** from git and restart. obs..(the git folder is hidden.)
inside the repository folder it's like **.git**
![img.png](src/imgs/passo-4.png)

```shell
git init
git remote add origin [url do repositorio]
```

After initializing make a commit and a push to the created repository. with this your source code will already be available in your repository on the master branch.

```shell
git add *
git commit -m "versao inicial"
git push
git push --set-upstream origin master
```

<br/><br/>

## Step 5: Add GH-pages to the project

it is this dependency that will do all the work for us.

It creates a new **branch** in our repository and uploads the compiled project files to the repository. The files from this branch will be used to create our site on github. add gh-pages.

```shell
npm install -g gh-pages --save-dev
```

![img.png](src/imgs/passo-5.png)
<br/><br/>

## Step 6: Publishing the static react site on github

To publish the site, we must execute the command that creates the compiled files of our project. Start by running the **npm run build** command.

Then go to the .bin folder. Follow this path: **./node_modules/.bin**.

When accessing the folder, you will run the command gh-pages -d ../../build. It will go into the build folder and upload the compiled files to **branch gh-pages on github.**

```shell
npm run build
cd node_modules
cd .bin
gh-pages -d ../../build
```

At the end of this process, a notification will appear informing the publication of the files.

![img.png](src/imgs/passo-6.png)

Now when you access your repository, you will see that there are **two branches** (master and gh-pages). Where you will find all compiled files.

![img.png](src/imgs/passo-6_2.png)

To check the domain created for your website, follow the step by step:

* Access your repository settings
* Go to GitHub Pages topic
* Here you will see that the site is referring to **branch gh-pages. In this same tab you will see** the domain
* Now just click on the link and test your site

![img.png](src/imgs/passo-6_3.png)


## Errors on the page
In order for your page not to show errors, remember to **always define in your project the URL** that the website's Home Page must have.

![img.png](src/imgs/passo-6_4.png)

## Fixing bugs and automating deploy
* Open package.json file
* Define the **Home Page** of the react project with the link to your site generated by github (file package.json line 5)

![img.png](src/imgs/passo-6_5.png) 

```shell
"homepage": "[website link]"
```

* Define the steps used to publish our website. That way they will be executed when we run the **npm run deploy** command (file package.json line 16)

![img.png](src/imgs/passo-6_6.png)

```shell
"deploy":"npm run build && cd node_modules && cd .bin && gh-pages -d ../../build"
```

After that, upload the project again with gh-pages and your project will work.

```shell
npm run deploy
git add .
git commit -m "SUA MENSAGEM"
git push
```

When you want to upload a new version, just type the command: **npm run deploy** and the project will create the necessary files. don't forget to **PUSH** your changes hehehe.

## Hope this information was helpful =)
